webpackJsonp([0],{"19He":function(t,n,i){t.exports=i.p+"static/img/rfid-nfc-expansion.e302d99.png"},"5cCm":function(t,n){},"6ToP":function(t,n){},NHnr:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=i("7+uW");function e(){return Math.random().toString(36).substring(2)}var a={name:"ConsoleSDK",appUid:"",makeId:e,init:function(){window.addEventListener("message",this.processMessage.bind(this),!1)},subscribe:function(t){this.sendEvent("Onion.CDK.Subscribe",{topic:t})},publish:function(t,n){},service:function(t,n,i){this.sendEvent("Onion.CDK.Service",{service:t,command:n})},sendEvent:function(t,n){var i=e();return window.parent.postMessage({event:t,instance:this.appUid,eventId:i,content:n},"*"),i},sendCmd:function(t){},processMessage:function(t){if(console.log(t),"Onion.CDK.Init"===t.data.event){var n=t.data.appUid;this.appUid=n,this.onInit()}else"Onion.CDK.Service"===t.data.event?this.onService(t.data.content.name,t.data.content.command,t.data.content.result):"Onion.CDK.Message"===t.data.event&&this.onMessage(t.data.content.topic,t.data.content.content)},onInit:function(){},onService:function(t,n,i){},onMessage:function(){},onCmd:function(){}},c={name:"RfidExp",components:{OnionCDK:a},data:function(){return{bReady:!1,bScanEnabled:!1,cards:[],lastUid:"",lastAccess:new Date,service:"rfid-scan",topic:"/console/rfid",appUid:""}},methods:{addCard:function(t){var n=new Date,i=n.toUTCString();(this.lastUid!==t||n-this.lastAccess>1600)&&(this.cards.unshift({uid:t,time:i}),this.lastUid=t,this.lastAccess=n)},clearList:function(){this.cards=[]},toggleScan:function(){this.bScanEnabled?a.service(this.service,"stop"):a.service(this.service,"start")}},computed:{buttonMsg:function(){return this.bScanEnabled?"Stop Scanning":"Start Scanning"},instructions:function(){return this.bScanEnabled?0===this.cards.length?"Bring an RFID tag close to your Expansion!":"":"Hit the Start Scanning button above!"},modalActive:function(){return this.bReady?"":"active"}},created:function(){a.onInit=function(){console.log("initialized"),a.service("rfid-scan","list"),a.subscribe(this.topic)}.bind(this),a.onService=function(t,n,i){console.log(t,n,i),"list"===n&&void 0!==i?(this.bScanEnabled=i,this.bReady=!0):"start"===n&&void 0!==i?this.bScanEnabled=i:"stop"===n&&void 0!==i&&(this.bScanEnabled=!i)}.bind(this),a.onMessage=function(t,n){var i=JSON.parse(n);t===this.topic&&i.tag&&this.addCard(i.tag)}.bind(this),a.init()}},o={render:function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"container"},[i("div",{staticClass:"modal",class:t.modalActive,staticStyle:{"background-color":"white",opacity:"0.5"},attrs:{id:"modal-id"}},[i("div",{staticClass:"loading loading-lg"})]),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column topbar"},[i("div",{staticClass:"navbar"},[t._m(0),t._v(" "),i("section",{staticClass:"navbar-section"},[i("button",{staticClass:"btn btn-primary btn-sm mr-2",on:{click:t.toggleScan}},[t._v(t._s(t.buttonMsg))]),t._v(" "),i("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.clearList}},[t._v("Clear List")])])])])]),t._v(" "),i("div",{staticClass:"columns"},[t._m(1),t._v(" "),i("div",{staticClass:"column col-6 col-xs-12 col-s-12"},[i("table",{staticClass:"table table-striped"},[t._m(2),t._v(" "),i("tbody",t._l(t.cards,function(n){return i("tr",{key:n.uid+n.time},[i("td",[t._v(t._s(n.uid))]),t._v(" "),i("td",[t._v(t._s(n.time))])])}))])])]),t._v(" "),i("div",[i("h5",[t._v(t._s(t.instructions))])])])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("section",{staticClass:"navbar-section"},[n("div",{staticClass:"navbar-brand mr-2"},[this._v("RFID Reader")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"column col-6 col-xs-12 col-s-12"},[n("img",{staticClass:"centered img-responsive",attrs:{src:i("19He")}})])},function(){var t=this.$createElement,n=this._self._c||t;return n("thead",[n("tr",[n("th",[this._v("UID")]),this._v(" "),n("th",[this._v("Time")])])])}]};var r={name:"App",components:{RfidExp:i("VU/8")(c,o,!1,function(t){i("5cCm")},null,null).exports}},d={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("RfidExp")],1)},staticRenderFns:[]};var l=i("VU/8")(r,d,!1,function(t){i("6ToP")},null,null).exports;i("gxGr");s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:l},template:"<App/>"})},gxGr:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.63226b63794ecd98b1b1.js.map